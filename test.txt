Матрицы смежностей для тестов:



4 города:

{  { 0, 1, 4, 6 },
   { 1, 0, 5, 2 },
   { 4, 5, 0, 3 },
   { 6, 2, 3, 0 } };
   
   
   
в случае битовой маски:

{  	{999, 1,  4,  6 },
	{ 1, 999, 5,  2 },
	{ 4,  5, 999, 3 },
	{ 6,  2,  3, 999}   };
	
	

Ответ: 10
	
	
	
	
6 городов




{	{ 0, 1, 0, 0, 0, 1 },
	{ 1, 0, 1, 0, 5, 5 },
	{ 0, 1, 0, 1, 5, 5 },
	{ 0, 0, 1, 0, 1, 0 },
	{ 0, 5, 5, 1, 0, 1 },
	{ 1, 5, 5, 0, 1, 0 } 	};
	
	
	
{	{ 999, 	1, 		999, 	999, 	999, 	1 },
	{ 1, 	999, 	1, 		999, 	5, 		5 },
	{ 999, 	1, 		999, 	1, 		5, 		5 },
	{ 999, 	999, 	1, 		999, 	1, 		999 },
	{ 999, 	5, 		5, 		1, 		999, 	1 },
	{ 1, 	5,	 	5, 		999, 	1, 		999 } 	};





20 городов:




{	{ 0 ,1	,0	,0	,1	,1	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 1	,0	,1	,0	,0	,0	,2	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 0	,1	,0	,1	,0	,0	,0	,3	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 0	,0	,1	,0	,2	,0	,0	,0	,3	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 1	,0	,0	,2	,0	,0	,0	,0	,0	,4	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 1	,0	,0	,0	,0	,0	,0	,0	,0	,0	,3	,2	,0	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 0	,2	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,3	,0	,0	,0	,0	,0	,0	,0 } ,
	{ 0	,0	,3	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,2	,0	,0	,0	,0	,0	,0 } ,
	{ 0	,0	,0	,3	,0	,0	,0	,0	,0	,0	,0	,0	,0	,1	,1	,0	,0	,0	,0	,0 } ,
	{ 0	,0	,0	,0	,4	,0	,0	,0	,0	,0	,6	,0	,0	,0	,5	,0	,0	,0	,0	,0 } ,
	{ 0	,0	,0	,0	,0	,3	,0	,0	,0	,6	,0	,0	,0	,0	,0	,2	,0	,0	,0	,0 } ,
	{ 0	,0	,0	,0	,0	,2	,2	,0	,0  ,0	,0	,0	,0	,0	,0	,0	,2	,0	,0	,0 } ,
	{ 0	,0	,0	,0	,0	,0	,3	,2	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,0	,0 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,2	,1	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,0 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,0	,1	,5	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,0	,0	,0	,0	,0	,4	,0	,0	,7 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,0	,0	,0	,4	,0	,4	,0	,0 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,0	,0	,0	,4	,0	,4	,0 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,0	,0	,0	,4	,0	,4 } ,
	{ 0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,0	,2	,7	,0	,0	,4	,0 }	};
	
	
	

	
	
	
	
{	{ 999 ,1	,999	,999	,1	,1	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 1	,999	,1	,999	,999	,999	,2	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 999	,1	,999	,1	,999	,999	,999	,3	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 999	,999	,1	,999	,2	,999	,999	,999	,3	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 1	,999	,999	,2	,999	,999	,999	,999	,999	,4	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 1	,999	,999	,999	,999	,999	,999	,999	,999	,999	,3	,2	,999	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 999	,2	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,3	,999	,999	,999	,999	,999	,999	,999 } ,
	{ 999	,999	,3	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,2	,999	,999	,999	,999	,999	,999 } ,
	{ 999	,999	,999	,3	,999	,999	,999	,999	,999	,999	,999	,999	,999	,1	,1	,999	,999	,999	,999	,999 } ,
	{ 999	,999	,999	,999	,4	,999	,999	,999	,999	,999	,6	,999	,999	,999	,5	,999	,999	,999	,999	,999 } ,
	{ 999	,999	,999	,999	,999	,3	,999	,999	,999	,6	,999	,999	,999	,999	,999	,2	,999	,999	,999	,999 } ,
	{ 999	,999	,999	,999	,999	,2	,2	,999	,999  ,999	,999	,999	,999	,999	,999	,999	,2	,999	,999	,999 } ,
	{ 999	,999	,999	,999	,999	,999	,3	,2	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,999	,999 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,2	,1	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,999 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,999	,1	,5	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,999	,999	,999	,999	,999	,4	,999	,999	,7 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,999	,999	,999	,4	,999	,4	,999	,999 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,999	,999	,999	,4	,999	,4	,999 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,999	,999	,999	,4	,999	,4 } ,
	{ 999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,999	,2	,7	,999	,999	,4	,999 }	};

	
	